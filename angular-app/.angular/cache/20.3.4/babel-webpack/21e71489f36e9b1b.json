{"ast":null,"code":"import { TemplateRef } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatDialog, MatDialogModule } from '@angular/material/dialog';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatRadioModule } from '@angular/material/radio';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/material/icon\";\nimport * as i6 from \"@angular/material/menu\";\nimport * as i7 from \"@angular/material/form-field\";\nimport * as i8 from \"@angular/material/input\";\nimport * as i9 from \"@angular/material/select\";\nimport * as i10 from \"@angular/material/radio\";\nimport * as i11 from \"@angular/material/checkbox\";\nconst _c0 = [\"dialog\"];\nfunction ScheduleComponent_tr_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 14)(1, \"td\", 15);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 15);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 15);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 15)(8, \"button\", 16);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(9, \"svg\", 17);\n    i0.ɵɵelement(10, \"circle\", 18)(11, \"circle\", 19)(12, \"circle\", 20);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(13, \"mat-menu\", 21, 1)(15, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function ScheduleComponent_tr_22_Template_button_click_15_listener() {\n      const s_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.openEditDialog(s_r3));\n    });\n    i0.ɵɵelementStart(16, \"mat-icon\");\n    i0.ɵɵtext(17, \"edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \" Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function ScheduleComponent_tr_22_Template_button_click_19_listener() {\n      const s_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.toggleEnabled(s_r3));\n    });\n    i0.ɵɵelementStart(20, \"mat-icon\");\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function ScheduleComponent_tr_22_Template_button_click_23_listener() {\n      const s_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.removeSchedule(s_r3));\n    });\n    i0.ɵɵelementStart(24, \"mat-icon\");\n    i0.ɵɵtext(25, \"delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \" Remove\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const s_r3 = ctx.$implicit;\n    const rowMenu_r5 = i0.ɵɵreference(14);\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r3.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3.getFrequencySummary(s_r3));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3.getNextRunText(s_r3));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"matMenuTriggerFor\", rowMenu_r5);\n    i0.ɵɵadvance(13);\n    i0.ɵɵtextInterpolate(s_r3.enabled ? \"block\" : \"check_circle\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", s_r3.enabled ? \"Disable\" : \"Enable\");\n  }\n}\nfunction ScheduleComponent_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 23);\n    i0.ɵɵtext(2, \"No schedules found.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ScheduleComponent_ng_template_24_mat_option_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 40);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const tz_r10 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", tz_r10);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(tz_r10);\n  }\n}\nfunction ScheduleComponent_ng_template_24_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"mat-form-field\", 27)(2, \"mat-label\");\n    i0.ɵɵtext(3, \"Minute\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 41);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ScheduleComponent_ng_template_24_div_24_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const data_r8 = i0.ɵɵnextContext().$implicit;\n      i0.ɵɵtwoWayBindingSet(data_r8.minute, $event) || (data_r8.minute = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const data_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", data_r8.minute);\n  }\n}\nfunction ScheduleComponent_ng_template_24_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"mat-form-field\", 27)(2, \"mat-label\");\n    i0.ɵɵtext(3, \"Hour\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 42);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ScheduleComponent_ng_template_24_div_25_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const data_r8 = i0.ɵɵnextContext().$implicit;\n      i0.ɵɵtwoWayBindingSet(data_r8.hour, $event) || (data_r8.hour = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"mat-form-field\", 27)(6, \"mat-label\");\n    i0.ɵɵtext(7, \"Minute\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"input\", 41);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ScheduleComponent_ng_template_24_div_25_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const data_r8 = i0.ɵɵnextContext().$implicit;\n      i0.ɵɵtwoWayBindingSet(data_r8.minute, $event) || (data_r8.minute = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const data_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", data_r8.hour);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", data_r8.minute);\n  }\n}\nfunction ScheduleComponent_ng_template_24_div_26_mat_checkbox_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-checkbox\", 46);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ScheduleComponent_ng_template_24_div_26_mat_checkbox_4_Template_mat_checkbox_ngModelChange_0_listener($event) {\n      const d_r15 = i0.ɵɵrestoreView(_r14).$implicit;\n      const data_r8 = i0.ɵɵnextContext(2).$implicit;\n      i0.ɵɵtwoWayBindingSet(data_r8.daysOfWeek[d_r15], $event) || (data_r8.daysOfWeek[d_r15] = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const d_r15 = ctx.$implicit;\n    const data_r8 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵproperty(\"name\", i0.ɵɵinterpolate1(\"dow_\", d_r15));\n    i0.ɵɵtwoWayProperty(\"ngModel\", data_r8.daysOfWeek[d_r15]);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(d_r15);\n  }\n}\nfunction ScheduleComponent_ng_template_24_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 43)(2, \"label\", 44);\n    i0.ɵɵtext(3, \"Days of week\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, ScheduleComponent_ng_template_24_div_26_mat_checkbox_4_Template, 2, 4, \"mat-checkbox\", 45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"mat-form-field\", 27)(6, \"mat-label\");\n    i0.ɵɵtext(7, \"Hour\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"input\", 42);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ScheduleComponent_ng_template_24_div_26_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const data_r8 = i0.ɵɵnextContext().$implicit;\n      i0.ɵɵtwoWayBindingSet(data_r8.hour, $event) || (data_r8.hour = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"mat-form-field\", 27)(10, \"mat-label\");\n    i0.ɵɵtext(11, \"Minute\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"input\", 41);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ScheduleComponent_ng_template_24_div_26_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const data_r8 = i0.ɵɵnextContext().$implicit;\n      i0.ɵɵtwoWayBindingSet(data_r8.minute, $event) || (data_r8.minute = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const data_r8 = i0.ɵɵnextContext().$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.daysOfWeek);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", data_r8.hour);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", data_r8.minute);\n  }\n}\nfunction ScheduleComponent_ng_template_24_div_27_mat_checkbox_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-checkbox\", 46);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ScheduleComponent_ng_template_24_div_27_mat_checkbox_8_Template_mat_checkbox_ngModelChange_0_listener($event) {\n      const d_r18 = i0.ɵɵrestoreView(_r17).$implicit;\n      const data_r8 = i0.ɵɵnextContext(2).$implicit;\n      i0.ɵɵtwoWayBindingSet(data_r8.daysOfMonth[d_r18], $event) || (data_r8.daysOfMonth[d_r18] = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const d_r18 = ctx.$implicit;\n    const data_r8 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵproperty(\"name\", i0.ɵɵinterpolate1(\"dom_\", d_r18));\n    i0.ɵɵtwoWayProperty(\"ngModel\", data_r8.daysOfMonth[d_r18]);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(d_r18);\n  }\n}\nfunction ScheduleComponent_ng_template_24_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"mat-form-field\", 27)(2, \"mat-label\");\n    i0.ɵɵtext(3, \"Every X months\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 47);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ScheduleComponent_ng_template_24_div_27_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const data_r8 = i0.ɵɵnextContext().$implicit;\n      i0.ɵɵtwoWayBindingSet(data_r8.monthInterval, $event) || (data_r8.monthInterval = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 43)(6, \"label\", 44);\n    i0.ɵɵtext(7, \"Days of month\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, ScheduleComponent_ng_template_24_div_27_mat_checkbox_8_Template, 2, 4, \"mat-checkbox\", 45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"mat-form-field\", 27)(10, \"mat-label\");\n    i0.ɵɵtext(11, \"Hour\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"input\", 42);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ScheduleComponent_ng_template_24_div_27_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const data_r8 = i0.ɵɵnextContext().$implicit;\n      i0.ɵɵtwoWayBindingSet(data_r8.hour, $event) || (data_r8.hour = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"mat-form-field\", 27)(14, \"mat-label\");\n    i0.ɵɵtext(15, \"Minute\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"input\", 41);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ScheduleComponent_ng_template_24_div_27_Template_input_ngModelChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const data_r8 = i0.ɵɵnextContext().$implicit;\n      i0.ɵɵtwoWayBindingSet(data_r8.minute, $event) || (data_r8.minute = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const data_r8 = i0.ɵɵnextContext().$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", data_r8.monthInterval);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.daysOfMonth);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", data_r8.hour);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", data_r8.minute);\n  }\n}\nfunction ScheduleComponent_ng_template_24_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"mat-form-field\", 27)(2, \"mat-label\");\n    i0.ɵɵtext(3, \"Cron Expression\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 48);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ScheduleComponent_ng_template_24_div_28_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const data_r8 = i0.ɵɵnextContext().$implicit;\n      i0.ɵɵtwoWayBindingSet(data_r8.cron, $event) || (data_r8.cron = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const data_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", data_r8.cron);\n  }\n}\nfunction ScheduleComponent_ng_template_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"h3\", 25);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 26);\n    i0.ɵɵlistener(\"ngSubmit\", function ScheduleComponent_ng_template_24_Template_form_ngSubmit_3_listener() {\n      const ctx_r6 = i0.ɵɵrestoreView(_r6);\n      const data_r8 = ctx_r6.$implicit;\n      const dialogRef_r9 = ctx_r6.dialogRef;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.saveDialog(data_r8, dialogRef_r9));\n    });\n    i0.ɵɵelementStart(4, \"mat-form-field\", 27)(5, \"mat-label\");\n    i0.ɵɵtext(6, \"Schedule Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"input\", 28);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ScheduleComponent_ng_template_24_Template_input_ngModelChange_7_listener($event) {\n      const data_r8 = i0.ɵɵrestoreView(_r6).$implicit;\n      i0.ɵɵtwoWayBindingSet(data_r8.name, $event) || (data_r8.name = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"mat-form-field\", 27)(9, \"mat-label\");\n    i0.ɵɵtext(10, \"Timezone\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"mat-select\", 29);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ScheduleComponent_ng_template_24_Template_mat_select_ngModelChange_11_listener($event) {\n      const data_r8 = i0.ɵɵrestoreView(_r6).$implicit;\n      i0.ɵɵtwoWayBindingSet(data_r8.timezone, $event) || (data_r8.timezone = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵtemplate(12, ScheduleComponent_ng_template_24_mat_option_12_Template, 2, 2, \"mat-option\", 30);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"mat-radio-group\", 31);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ScheduleComponent_ng_template_24_Template_mat_radio_group_ngModelChange_13_listener($event) {\n      const data_r8 = i0.ɵɵrestoreView(_r6).$implicit;\n      i0.ɵɵtwoWayBindingSet(data_r8.frequencyType, $event) || (data_r8.frequencyType = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementStart(14, \"mat-radio-button\", 32);\n    i0.ɵɵtext(15, \"Hourly\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"mat-radio-button\", 33);\n    i0.ɵɵtext(17, \"Daily\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"mat-radio-button\", 34);\n    i0.ɵɵtext(19, \"Weekly\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"mat-radio-button\", 35);\n    i0.ɵɵtext(21, \"Monthly\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"mat-radio-button\", 36);\n    i0.ɵɵtext(23, \"Advanced (Cron Expression)\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(24, ScheduleComponent_ng_template_24_div_24_Template, 5, 1, \"div\", 13)(25, ScheduleComponent_ng_template_24_div_25_Template, 9, 2, \"div\", 13)(26, ScheduleComponent_ng_template_24_div_26_Template, 13, 3, \"div\", 13)(27, ScheduleComponent_ng_template_24_div_27_Template, 17, 4, \"div\", 13)(28, ScheduleComponent_ng_template_24_div_28_Template, 5, 1, \"div\", 13);\n    i0.ɵɵelementStart(29, \"div\", 37)(30, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function ScheduleComponent_ng_template_24_Template_button_click_30_listener() {\n      const dialogRef_r9 = i0.ɵɵrestoreView(_r6).dialogRef;\n      return i0.ɵɵresetView(dialogRef_r9.close());\n    });\n    i0.ɵɵtext(31, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"button\", 39);\n    i0.ɵɵtext(33);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const data_r8 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r8.editing ? \"Edit Schedule\" : \"Add New Schedule\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtwoWayProperty(\"ngModel\", data_r8.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", data_r8.timezone);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.timezones);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", data_r8.frequencyType);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngIf\", data_r8.frequencyType === \"hourly\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", data_r8.frequencyType === \"daily\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", data_r8.frequencyType === \"weekly\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", data_r8.frequencyType === \"monthly\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", data_r8.frequencyType === \"advanced\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(data_r8.editing ? \"Update\" : \"Add\");\n  }\n}\nexport let ScheduleComponent = /*#__PURE__*/(() => {\n  var _staticBlock;\n  class ScheduleComponent {\n    constructor(dialog) {\n      this.dialog = dialog;\n      this.schedules = [];\n      this.selectedSchedule = null;\n      this.timezones = ['UTC', 'America/New_York', 'Europe/London', 'Asia/Tokyo'];\n      this.daysOfWeek = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];\n      this.daysOfMonth = Array.from({\n        length: 31\n      }, (_, i) => i + 1);\n    }\n    ngOnInit() {\n      // seed with a sample schedule for demo purposes\n      this.schedules.push({\n        id: Date.now(),\n        name: 'Sample Daily',\n        timezone: 'UTC',\n        frequencyType: 'daily',\n        hour: 8,\n        minute: 0,\n        enabled: true\n      });\n    }\n    openAddDialog() {\n      const dialogRef = this.dialog.open(this.dialogTemplate, {\n        data: {\n          name: '',\n          timezone: 'UTC',\n          frequencyType: 'daily',\n          hour: 8,\n          minute: 0,\n          daysOfWeek: {},\n          daysOfMonth: {},\n          monthInterval: 1,\n          cron: '',\n          enabled: true,\n          editing: false\n        },\n        width: '400px',\n        autoFocus: false\n      });\n      dialogRef.afterClosed().subscribe(result => {\n        if (result && !result.editing) {\n          result.id = Date.now();\n          result.enabled = true;\n          // normalize boolean maps\n          result.daysOfWeek = result.daysOfWeek || {};\n          result.daysOfMonth = result.daysOfMonth || {};\n          this.schedules.push(result);\n        }\n      });\n    }\n    openEditDialog(s) {\n      const dialogRef = this.dialog.open(this.dialogTemplate, {\n        data: {\n          ...JSON.parse(JSON.stringify(s)),\n          editing: true\n        },\n        width: '400px',\n        autoFocus: false\n      });\n      dialogRef.afterClosed().subscribe(result => {\n        if (result && result.editing) {\n          // apply edited fields back to the original schedule\n          Object.assign(s, result);\n        }\n      });\n    }\n    saveDialog(data, dialogRef) {\n      // Ensure numeric values\n      if (data.hour != null) data.hour = Number(data.hour);\n      if (data.minute != null) data.minute = Number(data.minute);\n      if (data.monthInterval != null) data.monthInterval = Number(data.monthInterval) || 1;\n      dialogRef.close(data);\n    }\n    toggleEnabled(s) {\n      s.enabled = !s.enabled;\n    }\n    removeSchedule(s) {\n      if (confirm('Remove this schedule?')) {\n        this.schedules = this.schedules.filter(x => x !== s);\n      }\n    }\n    getFrequencySummary(s) {\n      if (s.frequencyType === 'hourly') return `Every hour at minute ${s.minute}`;\n      if (s.frequencyType === 'daily') return `Every day at ${this.pad(s.hour)}:${this.pad(s.minute)}`;\n      if (s.frequencyType === 'weekly') {\n        const days = this.daysOfWeek.filter(d => s.daysOfWeek && s.daysOfWeek[d]).join(', ');\n        return `Weekly on ${days || '(no days selected)'} at ${this.pad(s.hour)}:${this.pad(s.minute)}`;\n      }\n      if (s.frequencyType === 'monthly') {\n        const days = this.daysOfMonth.filter(d => s.daysOfMonth && s.daysOfMonth[d]).join(', ');\n        return `Every ${s.monthInterval || 1} month(s) on days ${days || '(no days selected)'} at ${this.pad(s.hour)}:${this.pad(s.minute)}`;\n      }\n      if (s.frequencyType === 'advanced') return `Cron: ${s.cron}`;\n      return '';\n    }\n    getNextRunText(s) {\n      if (!s.enabled) return 'Disabled';\n      const next = this.computeNextRun(s);\n      if (!next) return '';\n      const now = new Date();\n      const diffMs = next.getTime() - now.getTime();\n      if (diffMs < 60000) return 'in a few seconds';\n      if (diffMs < 3600000) return `in ${Math.round(diffMs / 60000)} min`;\n      if (diffMs < 86400000) return `in ${Math.round(diffMs / 3600000)} hours`;\n      return `in ${Math.round(diffMs / 86400000)} days`;\n    }\n    computeNextRun(s) {\n      const now = new Date();\n      if (!s || !s.frequencyType) return null;\n      if (s.frequencyType === 'hourly') {\n        const next = new Date(now.getTime());\n        next.setMinutes(Number(s.minute) || 0, 0, 0);\n        if (next <= now) next.setHours(next.getHours() + 1);\n        return next;\n      }\n      if (s.frequencyType === 'daily') {\n        const next = new Date(now.getTime());\n        next.setHours(Number(s.hour) || 0, Number(s.minute) || 0, 0, 0);\n        if (next <= now) next.setDate(next.getDate() + 1);\n        return next;\n      }\n      if (s.frequencyType === 'weekly') {\n        // daysOfWeek stored by label (Mon..Sun). Map to JS day index (0=Sun..6=Sat)\n        const checkedIndices = [];\n        for (let i = 0; i < this.daysOfWeek.length; i++) {\n          const label = this.daysOfWeek[i];\n          if (s.daysOfWeek && s.daysOfWeek[label]) {\n            const jsDay = i === 6 ? 0 : i + 1; // Mon->1 ... Sun->0\n            checkedIndices.push(jsDay);\n          }\n        }\n        if (checkedIndices.length === 0) return null;\n        const hour = Number(s.hour) || 0;\n        const minute = Number(s.minute) || 0;\n        const today = now.getDay();\n        let best = null;\n        for (const d of checkedIndices) {\n          let diff = (d - today + 7) % 7;\n          const candidate = new Date(now.getTime());\n          candidate.setDate(now.getDate() + diff);\n          candidate.setHours(hour, minute, 0, 0);\n          if (candidate <= now) {\n            candidate.setDate(candidate.getDate() + 7);\n          }\n          if (!best || candidate < best) best = candidate;\n        }\n        return best;\n      }\n      if (s.frequencyType === 'monthly') {\n        const hour = Number(s.hour) || 0;\n        const minute = Number(s.minute) || 0;\n        const interval = Math.max(1, Number(s.monthInterval) || 1);\n        const checkedDays = s.daysOfMonth ? Object.keys(s.daysOfMonth).map(k => Number(k)).filter(n => !!s.daysOfMonth[n]).sort((a, b) => a - b) : [];\n        if (checkedDays.length === 0) return null;\n        // Try months forward up to 24 months\n        for (let mOff = 0; mOff < 24; mOff++) {\n          const monthCandidate = new Date(now.getFullYear(), now.getMonth() + mOff, 1);\n          if (mOff % interval !== 0) continue;\n          for (const day of checkedDays) {\n            const lastDay = new Date(monthCandidate.getFullYear(), monthCandidate.getMonth() + 1, 0).getDate();\n            const dayVal = Math.min(day, lastDay);\n            const candidate = new Date(monthCandidate.getFullYear(), monthCandidate.getMonth(), dayVal, hour, minute, 0, 0);\n            if (candidate > now) return candidate;\n          }\n        }\n        return null;\n      }\n      if (s.frequencyType === 'advanced') {\n        // Use a global cronParser if the app provides one (e.g. via a script tag).\n        // Do NOT use require() here — it's a Node-only API and breaks the browser build.\n        try {\n          const cronParser = window.cronParser || null;\n          if (cronParser && typeof cronParser.parseExpression === 'function') {\n            const interval = cronParser.parseExpression(s.cron || '* * * * *', {\n              currentDate: now\n            });\n            const next = interval.next().toDate();\n            return next;\n          }\n        } catch (e) {\n          // ignore and fallback\n        }\n        // Fallback when no parser is available\n        return new Date(now.getTime() + 3600 * 1000);\n      }\n      return null;\n    }\n    pad(n) {\n      return n.toString().padStart(2, '0');\n    }\n    static #_ = _staticBlock = () => (this.ɵfac = function ScheduleComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ScheduleComponent)(i0.ɵɵdirectiveInject(i1.MatDialog));\n    }, this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ScheduleComponent,\n      selectors: [[\"schedule-view\"]],\n      viewQuery: function ScheduleComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 7);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dialogTemplate = _t.first);\n        }\n      },\n      decls: 26,\n      vars: 2,\n      consts: [[\"dialog\", \"\"], [\"rowMenu\", \"matMenu\"], [1, \"flex\", \"flex-col\", \"md:flex-row\", \"md:items-center\", \"gap-3\", \"mb-3\"], [1, \"flex\", \"items-center\", \"gap-2\", \"ml-auto\"], [1, \"inline-flex\", \"items-center\", \"gap-2\", \"px-4\", \"py-2\", \"rounded-xl\", \"bg-indigo-600\", \"text-white\", \"hover:bg-indigo-700\", \"border\", \"border-indigo-600\", \"transition-colors\", \"whitespace-nowrap\", \"shrink-0\", 3, \"click\"], [\"viewBox\", \"0 0 24 24\", \"fill\", \"none\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\", \"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"aria-hidden\", \"true\", \"focusable\", \"false\", 1, \"h-5\", \"w-5\", \"align-middle\", \"text-white\"], [\"d\", \"M12 5v14\"], [\"d\", \"M5 12h14\"], [1, \"overflow-x-auto\", \"bg-white\", \"rounded-xl\", \"border\", \"border-slate-200\"], [1, \"w-full\", \"text-sm\"], [1, \"bg-slate-50\"], [1, \"text-left\", \"px-4\", \"py-3\", \"font-bold\", \"text-slate-700\"], [\"class\", \"hover:bg-slate-50\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"hover:bg-slate-50\"], [1, \"px-4\", \"py-3\"], [\"mat-icon-button\", \"\", \"aria-label\", \"Schedule actions\", 3, \"matMenuTriggerFor\"], [\"viewBox\", \"0 0 24 24\", \"fill\", \"currentColor\", \"aria-hidden\", \"true\", \"focusable\", \"false\", 1, \"align-middle\", \"h-6\", \"w-6\"], [\"cx\", \"12\", \"cy\", \"5\", \"r\", \"2\"], [\"cx\", \"12\", \"cy\", \"12\", \"r\", \"2\"], [\"cx\", \"12\", \"cy\", \"19\", \"r\", \"2\"], [\"xPosition\", \"before\"], [\"mat-menu-item\", \"\", 3, \"click\"], [\"colspan\", \"4\", 1, \"px-4\", \"py-6\", \"text-center\", \"text-slate-500\"], [1, \"w-full\", \"max-w-md\", \"p-6\"], [1, \"text-xl\", \"font-bold\", \"mb-4\"], [3, \"ngSubmit\"], [1, \"w-full\", \"mb-3\"], [\"matInput\", \"\", \"name\", \"name\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"timezone\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"name\", \"frequencyType\", 1, \"mb-3\", \"flex\", \"flex-col\", \"gap-2\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"hourly\"], [\"value\", \"daily\"], [\"value\", \"weekly\"], [\"value\", \"monthly\"], [\"value\", \"advanced\"], [1, \"flex\", \"gap-3\", \"justify-end\", \"mt-6\"], [\"mat-stroked-button\", \"\", \"type\", \"button\", 3, \"click\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\"], [3, \"value\"], [\"matInput\", \"\", \"type\", \"number\", \"min\", \"0\", \"max\", \"59\", \"name\", \"minute\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"matInput\", \"\", \"type\", \"number\", \"min\", \"0\", \"max\", \"23\", \"name\", \"hour\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [1, \"mb-3\"], [1, \"block\", \"mb-1\"], [3, \"ngModel\", \"name\", \"ngModelChange\", 4, \"ngFor\", \"ngForOf\"], [3, \"ngModelChange\", \"ngModel\", \"name\"], [\"matInput\", \"\", \"type\", \"number\", \"min\", \"1\", \"max\", \"12\", \"name\", \"monthInterval\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"matInput\", \"\", \"name\", \"cron\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"]],\n      template: function ScheduleComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"section\")(1, \"div\", 2)(2, \"div\", 3)(3, \"button\", 4);\n          i0.ɵɵlistener(\"click\", function ScheduleComponent_Template_button_click_3_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.openAddDialog());\n          });\n          i0.ɵɵnamespaceSVG();\n          i0.ɵɵelementStart(4, \"svg\", 5);\n          i0.ɵɵelement(5, \"path\", 6)(6, \"path\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵnamespaceHTML();\n          i0.ɵɵelementStart(7, \"span\");\n          i0.ɵɵtext(8, \"Add New Schedule\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(9, \"div\", 8)(10, \"table\", 9)(11, \"thead\", 10)(12, \"tr\")(13, \"th\", 11);\n          i0.ɵɵtext(14, \"Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"th\", 11);\n          i0.ɵɵtext(16, \"Frequency\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"th\", 11);\n          i0.ɵɵtext(18, \"Next Run\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"th\", 11);\n          i0.ɵɵtext(20, \"More Actions \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(21, \"tbody\");\n          i0.ɵɵtemplate(22, ScheduleComponent_tr_22_Template, 27, 6, \"tr\", 12)(23, ScheduleComponent_tr_23_Template, 3, 0, \"tr\", 13);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(24, ScheduleComponent_ng_template_24_Template, 34, 11, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(22);\n          i0.ɵɵproperty(\"ngForOf\", ctx.schedules);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.schedules.length === 0);\n        }\n      },\n      dependencies: [CommonModule, i2.NgForOf, i2.NgIf, FormsModule, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.MinValidator, i3.MaxValidator, i3.NgModel, i3.NgForm, MatDialogModule, MatButtonModule, i4.MatButton, i4.MatIconButton, MatIconModule, i5.MatIcon, MatMenuModule, i6.MatMenu, i6.MatMenuItem, i6.MatMenuTrigger, MatFormFieldModule, i7.MatFormField, i7.MatLabel, MatInputModule, i8.MatInput, MatSelectModule, i9.MatSelect, i9.MatOption, MatRadioModule, i10.MatRadioGroup, i10.MatRadioButton, MatCheckboxModule, i11.MatCheckbox],\n      encapsulation: 2\n    }));\n  }\n  _staticBlock();\n  return ScheduleComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}