{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Chart, registerables, ChartOptions } from 'chart.js';\nimport { BaseChartDirective } from 'ng2-charts';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nfunction SummaryComponent_li_77_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 29)(1, \"div\")(2, \"div\", 30);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 31);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 32)(7, \"div\", 33);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 31);\n    i0.ɵɵtext(11, \"docs processed\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const p_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(p_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r1.id);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 3, p_r1.docs));\n  }\n}\nChart.register(...registerables);\nexport let SummaryComponent = /*#__PURE__*/(() => {\n  var _staticBlock;\n  class SummaryComponent {\n    constructor() {\n      // demo KPI numbers\n      this.kpi = {\n        docsProcessed: 45230,\n        accuracy: 0.945,\n        failures: 312,\n        failRate: 312 / 45230,\n        avgHandleTime: 42,\n        // seconds\n        slaBreach: 8\n      };\n      this.ahtUnit = 's';\n      // demo timeseries for throughput / aht\n      this.throughput = [1800, 2100, 1950, 2300, 2450, 1300, 980];\n      this.throughputLabels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];\n      this.ahtSeries = [40, 42, 41, 39, 45, 50, 44];\n      // demo type mix\n      this.typeMix = [54, 18, 14, 8, 6];\n      this.typeLabels = ['Invoices', 'POs', 'Receipts', 'Waybills', 'Others'];\n      // demo project accuracy\n      this.projectAccuracy = [96.4, 94.1, 91.2, 95.3, 92.7];\n      this.projectLabels = ['Invoice DU', 'PO Extractor', 'Receipt Classifier', 'Waybill Parser', 'BOL Validator'];\n      // top projects (sorted by docs)\n      this.topProjects = [{\n        id: 'PX-001',\n        name: 'Invoice DU',\n        docs: 12840\n      }, {\n        id: 'PX-002',\n        name: 'PO Extractor',\n        docs: 8340\n      }, {\n        id: 'PX-004',\n        name: 'Waybill Parser',\n        docs: 6880\n      }, {\n        id: 'PX-005',\n        name: 'BOL Validator',\n        docs: 3020\n      }, {\n        id: 'PX-003',\n        name: 'Receipt Classifier',\n        docs: 2451\n      }];\n      this.throughputOptions = {\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: {\n          legend: {\n            display: false\n          }\n        }\n      };\n      this.typeMixOptions = {\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: {\n          legend: {\n            position: 'right'\n          }\n        }\n      };\n      this.projectAccuracyOptions = {\n        responsive: true,\n        maintainAspectRatio: false,\n        scales: {\n          y: {\n            beginAtZero: true,\n            max: 100\n          }\n        },\n        plugins: {\n          legend: {\n            display: false\n          }\n        }\n      };\n      this.ahtOptions = {\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: {\n          legend: {\n            display: false\n          }\n        }\n      };\n    }\n    // Chart getters\n    get throughputData() {\n      return {\n        labels: this.throughputLabels,\n        datasets: [{\n          label: 'Docs',\n          data: this.throughput,\n          borderColor: '#3b82f6',\n          backgroundColor: 'rgba(59,130,246,0.12)',\n          tension: 0.3\n        }]\n      };\n    }\n    get typeMixData() {\n      return {\n        labels: this.typeLabels,\n        datasets: [{\n          data: this.typeMix,\n          backgroundColor: ['#0ea5e9', '#22c55e', '#f59e0b', '#8b5cf6', '#ef4444']\n        }]\n      };\n    }\n    get projectAccuracyData() {\n      return {\n        labels: this.projectLabels,\n        datasets: [{\n          label: 'Accuracy %',\n          data: this.projectAccuracy,\n          backgroundColor: '#10b981'\n        }]\n      };\n    }\n    get ahtData() {\n      const factor = this.ahtUnit === 's' ? 1 : this.ahtUnit === 'm' ? 1 / 60 : 1 / 3600;\n      const data = this.ahtSeries.map(v => +(v * factor).toFixed(2));\n      return {\n        labels: this.throughputLabels,\n        datasets: [{\n          label: 'Avg Handle Time',\n          data,\n          borderColor: '#f59e0b',\n          backgroundColor: 'rgba(245,158,11,0.12)',\n          tension: 0.3\n        }]\n      };\n    }\n    static #_ = _staticBlock = () => (this.ɵfac = function SummaryComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || SummaryComponent)();\n    }, this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: SummaryComponent,\n      selectors: [[\"summary-page\"]],\n      decls: 78,\n      vars: 31,\n      consts: [[\"id\", \"summary\", \"aria-labelledby\", \"summary-title\", 1, \"view\"], [1, \"flex\", \"items-center\", \"justify-between\", \"mb-4\"], [\"id\", \"summary-title\", 1, \"text-2xl\", \"font-bold\"], [1, \"flex\", \"items-center\", \"gap-2\"], [1, \"text-sm\", \"text-slate-500\", \"mr-2\"], [1, \"px-2\", \"py-1\", \"border\", \"rounded\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"s\"], [\"value\", \"m\"], [\"value\", \"h\"], [1, \"grid\", \"grid-cols-2\", \"md:grid-cols-6\", \"gap-4\", \"mb-6\"], [1, \"rounded-2xl\", \"bg-white\", \"p-4\", \"text-center\"], [1, \"text-sm\", \"text-slate-500\"], [1, \"text-2xl\", \"font-semibold\"], [1, \"text-2xl\", \"font-semibold\", \"text-rose-600\"], [1, \"text-2xl\", \"font-semibold\", \"text-amber-600\"], [1, \"grid\", \"grid-cols-1\", \"lg:grid-cols-3\", \"gap-4\", \"mb-6\"], [1, \"rounded-2xl\", \"bg-white\", \"p-4\"], [1, \"font-semibold\", \"mb-2\"], [1, \"h-48\", \"border\", \"rounded-md\", \"p-3\"], [\"baseChart\", \"\", 2, \"width\", \"100%\", \"height\", \"100%\", \"display\", \"block\", 3, \"data\", \"options\", \"type\"], [1, \"h-48\", \"border\", \"rounded-md\", \"p-3\", \"flex\", \"items-center\", \"justify-center\"], [\"baseChart\", \"\", 2, \"width\", \"220px\", \"height\", \"220px\", \"display\", \"block\", 3, \"data\", \"options\", \"type\"], [1, \"grid\", \"grid-cols-1\", \"lg:grid-cols-2\", \"gap-4\", \"mb-6\"], [1, \"flex\", \"items-center\", \"justify-between\", \"mb-2\"], [1, \"font-semibold\"], [1, \"h-56\", \"border\", \"rounded-md\", \"p-3\"], [1, \"overflow-auto\"], [1, \"space-y-2\"], [\"class\", \"flex items-center justify-between p-3 bg-slate-50 rounded-lg\", 4, \"ngFor\", \"ngForOf\"], [1, \"flex\", \"items-center\", \"justify-between\", \"p-3\", \"bg-slate-50\", \"rounded-lg\"], [1, \"font-medium\"], [1, \"text-xs\", \"text-slate-500\"], [1, \"text-right\"], [1, \"text-sm\"]],\n      template: function SummaryComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n          i0.ɵɵtext(3, \"Summary\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 3)(5, \"label\", 4);\n          i0.ɵɵtext(6, \"Unit\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"select\", 5);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function SummaryComponent_Template_select_ngModelChange_7_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.ahtUnit, $event) || (ctx.ahtUnit = $event);\n            return $event;\n          });\n          i0.ɵɵelementStart(8, \"option\", 6);\n          i0.ɵɵtext(9, \"Seconds\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"option\", 7);\n          i0.ɵɵtext(11, \"Minutes\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"option\", 8);\n          i0.ɵɵtext(13, \"Hours\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(14, \"div\", 9)(15, \"div\", 10)(16, \"div\", 11);\n          i0.ɵɵtext(17, \"Docs Processed\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"div\", 12);\n          i0.ɵɵtext(19);\n          i0.ɵɵpipe(20, \"number\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(21, \"div\", 10)(22, \"div\", 11);\n          i0.ɵɵtext(23, \"Accuracy\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"div\", 12);\n          i0.ɵɵtext(25);\n          i0.ɵɵpipe(26, \"number\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(27, \"div\", 10)(28, \"div\", 11);\n          i0.ɵɵtext(29, \"Failures\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(30, \"div\", 13);\n          i0.ɵɵtext(31);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(32, \"div\", 10)(33, \"div\", 11);\n          i0.ɵɵtext(34, \"Fail Rate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(35, \"div\", 13);\n          i0.ɵɵtext(36);\n          i0.ɵɵpipe(37, \"number\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(38, \"div\", 10)(39, \"div\", 11);\n          i0.ɵɵtext(40, \"Avg Handle Time\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(41, \"div\", 12);\n          i0.ɵɵtext(42);\n          i0.ɵɵpipe(43, \"number\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(44, \"div\", 10)(45, \"div\", 11);\n          i0.ɵɵtext(46, \"SLA Breach\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(47, \"div\", 14);\n          i0.ɵɵtext(48);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(49, \"div\", 15)(50, \"div\", 16)(51, \"h3\", 17);\n          i0.ɵɵtext(52, \"Throughput\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(53, \"div\", 18);\n          i0.ɵɵelement(54, \"canvas\", 19);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(55, \"div\", 16)(56, \"h3\", 17);\n          i0.ɵɵtext(57, \"Document Type Mix\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(58, \"div\", 20);\n          i0.ɵɵelement(59, \"canvas\", 21);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(60, \"div\", 16)(61, \"h3\", 17);\n          i0.ɵɵtext(62, \"Project Accuracy\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(63, \"div\", 18);\n          i0.ɵɵelement(64, \"canvas\", 19);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(65, \"div\", 22)(66, \"div\", 16)(67, \"div\", 23)(68, \"h3\", 24);\n          i0.ɵɵtext(69, \"Average Handle Time\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(70, \"div\", 25);\n          i0.ɵɵelement(71, \"canvas\", 19);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(72, \"div\", 16)(73, \"h3\", 17);\n          i0.ɵɵtext(74, \"Top Projects\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(75, \"div\", 26)(76, \"ul\", 27);\n          i0.ɵɵtemplate(77, SummaryComponent_li_77_Template, 12, 5, \"li\", 28);\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(7);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.ahtUnit);\n          i0.ɵɵadvance(12);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(20, 20, ctx.kpi.docsProcessed));\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(26, 22, ctx.kpi.accuracy * 100, \"1.1-1\"), \"%\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate(ctx.kpi.failures);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(37, 25, ctx.kpi.failRate * 100, \"1.1-1\"), \"%\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(43, 28, ctx.kpi.avgHandleTime, \"1.0-0\"), \"s\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate(ctx.kpi.slaBreach);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"data\", ctx.throughputData)(\"options\", ctx.throughputOptions)(\"type\", \"line\");\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"data\", ctx.typeMixData)(\"options\", ctx.typeMixOptions)(\"type\", \"pie\");\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"data\", ctx.projectAccuracyData)(\"options\", ctx.projectAccuracyOptions)(\"type\", \"bar\");\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"data\", ctx.ahtData)(\"options\", ctx.ahtOptions)(\"type\", \"line\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngForOf\", ctx.topProjects);\n        }\n      },\n      dependencies: [CommonModule, i1.NgForOf, BaseChartDirective, FormsModule, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.SelectControlValueAccessor, i2.NgControlStatus, i2.NgModel, i1.DecimalPipe],\n      encapsulation: 2\n    }));\n  }\n  _staticBlock();\n  return SummaryComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}