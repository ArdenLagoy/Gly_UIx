{"ast":null,"code":"var __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nlet OutputSettingsFormatsComponent = class OutputSettingsFormatsComponent {\n  constructor() {\n    // Format & schema\n    this.format = 'json';\n    this.schema = 'uipath_du_v1';\n    this.includeConf = true;\n    this.includePages = true;\n    this.includeText = false;\n    this.flatten = false;\n    this.keyCase = 'camel';\n    this.version = '1.0.0';\n    this.rootNode = 'Document';\n    this.ns = 'urn:du:out';\n    this.filePattern = '{DocType}_{DocId}_{yyyyMMdd}';\n    this.docType = 'invoice';\n    this.mappings = [{\n      internal: 'InvoiceNumber',\n      output: 'invoice_number',\n      color: 'emerald'\n    }, {\n      internal: 'InvoiceDate',\n      output: 'invoice_date',\n      color: 'amber'\n    }, {\n      internal: 'TotalAmount',\n      output: 'total_amount',\n      color: 'sky'\n    }];\n    this.colorClasses = {\n      emerald: {\n        chip: 'bg-emerald-100 text-emerald-800',\n        ring: 'ring-emerald-300'\n      },\n      amber: {\n        chip: 'bg-amber-100 text-amber-800',\n        ring: 'ring-amber-300'\n      },\n      sky: {\n        chip: 'bg-sky-100 text-sky-800',\n        ring: 'ring-sky-300'\n      },\n      violet: {\n        chip: 'bg-violet-100 text-violet-800',\n        ring: 'ring-violet-300'\n      }\n    };\n    this.extractionPreview = `{\n  \"InvoiceNumber\": \"INV-12345\",\n  \"InvoiceDate\": \"2025-10-18\",\n  \"VendorName\": \"ACME Corporation\",\n  \"TotalAmount\": \"1500.75\",\n  \"ConfidenceScores\": {\n    \"InvoiceNumber\": 0.98,\n    \"InvoiceDate\": 0.93,\n    \"VendorName\": 0.87,\n    \"TotalAmount\": 0.99\n  }\n}`;\n    this.extractionConfidence = 92; // percent\n  }\n  setOutputAt(idx, val) {\n    this.mappings = this.mappings.map((m, i) => i === idx ? {\n      ...m,\n      output: val\n    } : m);\n  }\n  pseudoKey(outKey) {\n    return `${this.docType}:${outKey || 'field'}`;\n  }\n  preview() {\n    if (this.format === 'json') {\n      const base = {\n        DocumentType: 'Invoice',\n        DocumentID: 'INV-12345',\n        Fields: {\n          InvoiceNumber: 'INV-12345',\n          InvoiceDate: '2025-10-18',\n          VendorName: 'ACME Corporation',\n          TotalAmount: '1500.75',\n          Currency: 'USD'\n        },\n        Status: 'Validated',\n        ProcessingMetadata: {\n          Schema: this.schema,\n          Version: this.version\n        }\n      };\n      if (this.includeConf) base.ConfidenceScores = {\n        InvoiceNumber: 0.98,\n        InvoiceDate: 0.93,\n        VendorName: 0.87,\n        TotalAmount: 0.99\n      };\n      if (this.includePages) base.PageMap = [{\n        page: 1,\n        regions: ['InvoiceNumber', 'InvoiceDate']\n      }];\n      if (this.includeText) base.RawText = '...extracted full text...';\n      const json = JSON.stringify(base, null, 2);\n      if (this.keyCase === 'snake') {\n        return json.replace(/\"([A-Za-z][A-Za-z0-9]*)\"/g, m => m.replace(/[A-Z]/g, s => '_' + s.toLowerCase()));\n      }\n      return json;\n    }\n    if (this.format === 'csv') {\n      return `Field,Value,Confidence\\nInvoiceNumber,INV-12345,0.98\\nInvoiceDate,2025-10-18,0.93\\nVendorName,ACME Corporation,0.87\\nTotalAmount,1500.75,0.99`;\n    }\n    if (this.format === 'excel') {\n      return '(Preview) Excel workbook with sheets: Fields, Confidence, Pages';\n    }\n    return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<${this.rootNode} xmlns=\"${this.ns}\" Schema=\"${this.schema}\" Version=\"${this.version}\">\\n  <Fields>\\n    <InvoiceNumber conf=\"0.98\">INV-12345</InvoiceNumber>\\n    <InvoiceDate conf=\"0.93\">2025-10-18</InvoiceDate>\\n    <VendorName conf=\"0.87\">ACME Corporation</VendorName>\\n    <TotalAmount conf=\"0.99\">1500.75</TotalAmount>\\n  </Fields>\\n</${this.rootNode}>`;\n  }\n  onDocTypeChange(val) {\n    this.docType = val;\n  }\n};\nOutputSettingsFormatsComponent = __decorate([Component({\n  selector: 'output-settings-formats',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  template: `\n    <section id=\"output-settings-formats\" class=\"view\" aria-labelledby=\"output-title\">\n      <div class=\"flex items-center justify-between mb-4\">\n        <h1 id=\"output-title\" class=\"text-2xl font-bold\">Output Settings - Formats</h1>\n      </div>\n\n      <div class=\"p-6 grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <!-- Output Settings Panel (top) -->\n        <div class=\"shadow-md rounded-2xl md:col-span-2 bg-white\">\n          <div class=\"flex items-center gap-2 px-4 pt-4\">\n            <div class=\"text-purple-600\">‚öôÔ∏è</div>\n            <h2 class=\"text-lg font-semibold\">Output Settings</h2>\n          </div>\n          <div class=\"p-4\">\n            <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n              <!-- Column 1 -->\n              <div class=\"flex flex-col gap-4\">\n                <div class=\"space-y-2\">\n                  <label class=\"block text-sm font-medium\">Output Format</label>\n                  <select class=\"w-full rounded-md border px-2 py-1\" [(ngModel)]=\"format\">\n                    <option value=\"json\">JSON</option>\n                    <option value=\"csv\">CSV</option>\n                    <option value=\"excel\">Excel (XLSX)</option>\n                    <option value=\"xml\">XML</option>\n                  </select>\n                </div>\n\n                <div class=\"space-y-2\">\n                  <label class=\"block text-sm font-medium\">Schema Preset</label>\n                  <select class=\"w-full rounded-md border px-2 py-1\" [(ngModel)]=\"schema\">\n                    <option value=\"uipath_du_v1\">UiPath DU v1</option>\n                    <option value=\"azure_di_v3\">Azure Document Intelligence v3</option>\n                    <option value=\"glyphx_v1\">Glyphx Custom v1</option>\n                    <option value=\"custom\">Custom</option>\n                  </select>\n                </div>\n\n                <div class=\"grid grid-cols-2 gap-3\">\n                  <div class=\"flex items-center justify-between border rounded-xl px-3 py-2\">\n                    <label class=\"text-sm\">Confidence</label>\n                    <input type=\"checkbox\" [(ngModel)]=\"includeConf\" />\n                  </div>\n                  <div class=\"flex items-center justify-between border rounded-xl px-3 py-2\">\n                    <label class=\"text-sm\">Page Map</label>\n                    <input type=\"checkbox\" [(ngModel)]=\"includePages\" />\n                  </div>\n                  <div class=\"flex items-center justify-between border rounded-xl px-3 py-2\">\n                    <label class=\"text-sm\">Raw Text</label>\n                    <input type=\"checkbox\" [(ngModel)]=\"includeText\" />\n                  </div>\n                  <div class=\"flex items-center justify-between border rounded-xl px-3 py-2\">\n                    <label class=\"text-sm\">Flatten Arrays</label>\n                    <input type=\"checkbox\" [(ngModel)]=\"flatten\" />\n                  </div>\n                </div>\n              </div>\n\n              <!-- Column 2 -->\n              <div class=\"flex flex-col gap-4\">\n                <div class=\"space-y-2\">\n                  <label class=\"block text-sm font-medium\">Key Casing</label>\n                  <select class=\"w-full rounded-md border px-2 py-1\" [(ngModel)]=\"keyCase\">\n                    <option value=\"camel\">camelCase</option>\n                    <option value=\"snake\">snake_case</option>\n                  </select>\n                </div>\n\n                <div class=\"space-y-2\">\n                  <label class=\"block text-sm font-medium\">Schema Version</label>\n                  <input class=\"w-full rounded-md border px-2 py-1\" [(ngModel)]=\"version\" />\n                </div>\n\n                <div *ngIf=\"format === 'xml'\" class=\"space-y-2\">\n                  <label class=\"block text-sm font-medium\">XML Root Node</label>\n                  <input class=\"w-full rounded-md border px-2 py-1\" [(ngModel)]=\"rootNode\" />\n                  <label class=\"block text-sm font-medium mt-2\">XML Namespace</label>\n                  <input class=\"w-full rounded-md border px-2 py-1\" [(ngModel)]=\"ns\" />\n                </div>\n\n                <div class=\"space-y-2\">\n                  <label class=\"block text-sm font-medium\">File Naming Pattern</label>\n                  <input class=\"w-full rounded-md border px-2 py-1\" [(ngModel)]=\"filePattern\" placeholder=\"{DocType}_{DocId}_{yyyyMMdd}\" />\n                  <p class=\"text-xs text-slate-500\">Tokens: {DocType}, {DocId}, {yyyyMMdd}, {BatchId}, {Vendor}</p>\n                </div>\n              </div>\n\n              <!-- Column 3: Preview -->\n              <div class=\"flex flex-col gap-2\">\n                <label class=\"block text-sm font-medium\">Preview</label>\n                <textarea class=\"min-h-[260px] font-mono text-sm rounded-md border p-2\" readonly [value]=\"preview()\"></textarea>\n                <div class=\"flex gap-3 mt-2\">\n                  <button class=\"bg-purple-600 text-white px-3 py-1 rounded\">Save as Preset</button>\n                  <button class=\"border px-3 py-1 rounded\">Export {{ format.toUpperCase() }}</button>\n                </div>\n              </div>\n            </div>\n\n            <!-- Field Mapping -->\n            <div class=\"mt-6\">\n              <label class=\"block mb-2 font-medium\">Field Mapping (Internal ‚Üí Output)</label>\n              <div class=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\n                <div *ngFor=\"let m of mappings; let i = index\" [attr.data-index]=\"i\" class=\"flex items-center gap-2 p-2 rounded-xl ring-1\" [ngClass]=\"colorClasses[m.color]?.ring\">\n                  <span class=\"text-xs px-2 py-1 rounded-full\" [ngClass]=\"colorClasses[m.color]?.chip\">{{ m.internal }}</span>\n                  <span class=\"text-sm\">‚Üí</span>\n                  <input class=\"flex-1 rounded-md border px-2 py-1\" [value]=\"m.output\" (input)=\"setOutputAt(i, $any($event.target).value)\" />\n                  <span class=\"text-[11px] px-2 py-1 rounded-md bg-neutral-100 border text-neutral-700 whitespace-nowrap\">{{ pseudoKey(m.output) }}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Upload Panel -->\n        <div class=\"shadow-md rounded-2xl bg-white p-4\">\n          <div class=\"flex items-center gap-2\">\n            <div class=\"text-blue-500\">üì§</div>\n            <h3 class=\"font-semibold\">Document Upload</h3>\n          </div>\n          <div class=\"mt-3 flex flex-col gap-3\">\n            <input type=\"file\" accept=\".pdf,.jpg,.png,.tif\" />\n            <select class=\"w-full rounded-md border px-2 py-1\" (change)=\"onDocTypeChange($any($event.target).value)\">\n              <option value=\"invoice\">Invoice</option>\n              <option value=\"receipt\">Receipt</option>\n              <option value=\"purchase_order\">Purchase Order</option>\n            </select>\n            <button class=\"bg-blue-600 text-white px-3 py-1 rounded\">Start Extraction</button>\n          </div>\n        </div>\n\n        <!-- Extraction Result Panel -->\n        <div class=\"shadow-md rounded-2xl bg-white p-4\">\n          <div class=\"flex items-center gap-2\">\n            <div class=\"text-green-600\">üìÑ</div>\n            <h3 class=\"font-semibold\">Extraction Output</h3>\n          </div>\n          <div class=\"mt-3 flex flex-col gap-3\">\n            <textarea readonly class=\"rounded-md border p-2 font-mono text-sm\" [value]=\"extractionPreview\"></textarea>\n            <div>\n              <p class=\"text-sm font-semibold mb-1\">Extraction Confidence</p>\n              <div class=\"w-full bg-gray-200 rounded h-3 overflow-hidden\">\n                <div class=\"bg-green-500 h-3\" [style.width.%]=\"extractionConfidence\"></div>\n              </div>\n            </div>\n            <button class=\"border px-3 py-1 rounded flex items-center gap-2\">‚úÖ Export JSON</button>\n          </div>\n        </div>\n      </div>\n    </section>\n  `\n})], OutputSettingsFormatsComponent);\nexport { OutputSettingsFormatsComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}