{"ast":null,"code":"var __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nlet ApiDocumentationComponent = class ApiDocumentationComponent {\n  constructor() {\n    this.pages = ['Overview', 'Authentication', 'Headers', 'Rate Limits', 'Endpoints', 'Examples', 'Errors'];\n    this.currentPage = 0;\n  }\n  goToPage(i) {\n    if (i < 0 || i >= this.pages.length) return;\n    this.currentPage = i;\n    // scroll to top of the docs column if needed\n    setTimeout(() => {\n      const el = document.getElementById('api-doc-title');\n      if (el) el.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start'\n      });\n    }, 50);\n  }\n  prevPage() {\n    if (this.currentPage > 0) this.currentPage--;\n  }\n  nextPage() {\n    if (this.currentPage < this.pages.length - 1) this.currentPage++;\n  }\n};\nApiDocumentationComponent = __decorate([Component({\n  selector: 'api-documentation',\n  standalone: true,\n  imports: [CommonModule],\n  host: {\n    'id': 'api-documentation',\n    'class': 'view'\n  },\n  template: `\n    <section aria-labelledby=\"api-doc-title\">\n      <div class=\"flex items-center justify-between mb-4\">\n        <h1 id=\"api-doc-title\" class=\"text-2xl font-bold\">API Documentation</h1>\n      </div>\n\n      <!-- Two-column layout: left = docs, right = sample preview -->\n      <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        <!-- Left: detailed docs (paginated) -->\n        <div class=\"md:col-span-2 rounded-2xl bg-white p-6\">\n          <!-- Page navigation -->\n          <div class=\"flex items-center gap-2 mb-4 flex-wrap\">\n            <button *ngFor=\"let t of pages; let i = index\" (click)=\"goToPage(i)\" [class]=\"'px-3 py-1 rounded-full text-sm ' + (currentPage===i ? 'bg-indigo-600 text-white' : 'bg-slate-100 text-slate-700')\">{{ t }}</button>\n          </div>\n\n          <!-- Page content -->\n          <div class=\"prose max-w-none text-sm text-slate-700\">\n            <!-- Overview -->\n            <div *ngIf=\"currentPage === 0\">\n              <h2 class=\"text-lg font-semibold mb-2\">Overview</h2>\n              <p class=\"text-sm text-slate-600 mb-4\">This page contains sample API documentation for the Glyphx Data Uploader & Extraction API. It describes authentication, common headers, endpoints, request/response shapes, and error codes.</p>\n            </div>\n\n            <!-- Authentication -->\n            <div *ngIf=\"currentPage === 1\">\n              <h2 class=\"text-lg font-semibold mb-2\">Authentication</h2>\n              <p class=\"text-sm text-slate-600\">All requests must include an API key in the <code>Authorization</code> header: <code>Authorization: Bearer &lt;API_KEY&gt;</code></p>\n              <p class=\"text-sm text-slate-600\">API keys should be treated as secrets and rotated regularly. For production use, scopes and per-user tokens are recommended.</p>\n            </div>\n\n            <!-- Common Headers -->\n            <div *ngIf=\"currentPage === 2\">\n              <h2 class=\"text-lg font-semibold mb-2\">Common Headers</h2>\n              <ul class=\"list-disc ml-5 text-sm text-slate-700\">\n                <li class=\"mb-1\"><code>Authorization: Bearer &lt;API_KEY&gt;</code></li>\n                <li class=\"mb-1\"><code>Accept: application/json</code></li>\n                <li class=\"mb-1\"><code>Content-Type: multipart/form-data</code> (for file uploads)</li>\n                <li class=\"mb-1\"><code>X-Request-ID</code> (optional) — client-generated id for tracing.</li>\n              </ul>\n            </div>\n\n            <!-- Rate Limits -->\n            <div *ngIf=\"currentPage === 3\">\n              <h2 class=\"text-lg font-semibold mb-2\">Rate Limits</h2>\n              <p class=\"text-sm text-slate-600\">Requests are limited to <strong>60 requests per minute</strong> per API key. If exceeded, a <code>429</code> status is returned with a <code>Retry-After</code> header indicating when to retry.</p>\n            </div>\n\n            <!-- Endpoints -->\n            <div *ngIf=\"currentPage === 4\">\n              <h2 class=\"text-lg font-semibold mb-2\">Endpoints</h2>\n              <div class=\"space-y-3 text-sm text-slate-700\">\n                <div>\n                  <strong>POST /api/v1/upload</strong>\n                  <div class=\"text-xs text-slate-500 mt-1\">Description: Upload one or more documents for processing.</div>\n                  <div class=\"text-xs text-slate-500\">Body: multipart/form-data with files and optional metadata fields (<code>project</code>, <code>documentType</code>, <code>externalId</code>).</div>\n                </div>\n                <div>\n                  <strong>GET /api/v1/projects</strong>\n                  <div class=\"text-xs text-slate-500 mt-1\">Description: Returns a list of projects, their ids, owners, and basic configuration.</div>\n                </div>\n                <div>\n                  <strong>GET /api/v1/jobs/&#123;jobId&#125;</strong>\n                  <div class=\"text-xs text-slate-500 mt-1\">Description: Get processing status and results for a job. Replace &#123;jobId&#125; with the job identifier returned by the upload call.</div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Examples -->\n            <div *ngIf=\"currentPage === 5\">\n              <h2 class=\"text-lg font-semibold mb-2\">Request / Response Examples</h2>\n              <h4 class=\"font-medium mt-2\">Sample upload request (curl)</h4>\n              <pre ngNonBindable class=\"bg-slate-50 p-3 rounded text-sm text-slate-700\">curl -X POST \"https://api.example.com/api/v1/upload\" \\\n  -H \"Authorization: Bearer &lt;API_KEY&gt;\" \\\n  -F \"file=@invoice.pdf\" \\\n  -F \"project=invoice-du\"</pre>\n\n              <h4 class=\"font-medium mt-3\">Sample response</h4>\n              <pre ngNonBindable class=\"bg-slate-50 p-3 rounded text-sm text-slate-700\">{\n  \"jobId\": \"job_123456\",\n  \"status\": \"queued\"\n}</pre>\n\n              <h4 class=\"font-medium mt-3\">GET /api/v1/projects — Response Example</h4>\n              <pre ngNonBindable class=\"bg-slate-50 p-3 rounded text-sm text-slate-700\">{\n  \"data\": [\n    {\"id\": \"prj_abc\", \"name\": \"Invoice DU\", \"owner\": \"ops@acme.io\"},\n    {\"id\": \"prj_xyz\", \"name\": \"PO DU\", \"owner\": \"ops@acme.io\"}\n  ]\n}</pre>\n\n              <h4 class=\"font-medium mt-3\">GET /api/v1/jobs/{jobId} — Response Example</h4>\n              <pre ngNonBindable class=\"bg-slate-50 p-3 rounded text-sm text-slate-700\">{\n  \"jobId\": \"job_123456\",\n  \"status\": \"succeeded\",\n  \"results\": {\n    \"documentType\": \"invoice\",\n    \"fields\": {\n      \"invoiceNumber\": \"INV-00123\",\n      \"invoiceDate\": \"2025-09-30\",\n      \"total\": 1234.56,\n      \"currency\": \"USD\"\n    }\n  }\n}</pre>\n            </div>\n\n            <!-- Error Codes -->\n            <div *ngIf=\"currentPage === 6\">\n              <h2 class=\"text-lg font-semibold mb-2\">Error Codes</h2>\n              <ul class=\"list-disc ml-5 text-sm text-slate-700\">\n                <li><code>400 invalid_request</code> — Malformed body or missing fields.</li>\n                <li><code>401 unauthorized</code> — Missing/invalid API key.</li>\n                <li><code>404 not_found</code> — Resource not found.</li>\n                <li><code>409 conflict</code> — Duplicate externalId.</li>\n                <li><code>413 payload_too_large</code> — Upload exceeds limit.</li>\n                <li><code>429 rate_limited</code> — Too many requests.</li>\n                <li><code>500 server_error</code> — Unexpected error.</li>\n              </ul>\n            </div>\n          </div>\n\n          <!-- Pagination controls -->\n          <div class=\"mt-6 flex items-center justify-between\">\n            <div class=\"flex items-center gap-2\">\n              <button class=\"px-3 py-1 rounded border\" (click)=\"prevPage()\" [disabled]=\"currentPage===0\">Prev</button>\n              <button class=\"px-3 py-1 rounded border\" (click)=\"nextPage()\" [disabled]=\"currentPage === pages.length-1\">Next</button>\n            </div>\n            <div class=\"text-sm text-slate-500\">Page {{ currentPage + 1 }} / {{ pages.length }}</div>\n          </div>\n        </div>\n\n        <!-- Right: sample preview panel -->\n        <aside class=\"rounded-2xl bg-white p-4 border border-slate-100 space-y-4\">\n          <h3 class=\"text-md font-semibold\">Sample Preview</h3>\n          <div class=\"text-sm text-slate-700\">\n            <div class=\"mb-3\">\n              <strong>GET /api/v1/projects</strong>\n              <div class=\"text-xs text-slate-500 mt-1\">Required scope: <code>projects:read</code></div>\n              <div class=\"mt-2\"><em>Parameters</em>:</div>\n              <ul class=\"list-disc ml-5 text-xs text-slate-600\">\n                <li><code>page</code> (optional, int) — page number</li>\n                <li><code>limit</code> (optional, int) — page size</li>\n              </ul>\n              <div class=\"mt-2\"><em>Response (200)</em>:</div>\n              <pre class=\"bg-slate-50 p-2 rounded text-xs text-slate-700\">&#123; \"projects\": [ &#123; \"id\": \"PX-001\", \"name\": \"Invoice DU\" &#125; ], \"total\": 1 &#125;</pre>\n              <div class=\"text-xs text-rose-600\">Errors: 401 Unauthorized, 403 Forbidden</div>\n            </div>\n\n            <hr />\n\n            <div class=\"mt-3\">\n              <strong>POST /api/v1/upload</strong>\n              <div class=\"text-xs text-slate-500 mt-1\">Required scope: <code>uploads:write</code></div>\n              <div class=\"mt-2\"><em>Parameters (form-data)</em>:</div>\n              <ul class=\"list-disc ml-5 text-xs text-slate-600\">\n                <li><code>file</code> (required) — file to upload</li>\n                <li><code>project</code> (required) — project id</li>\n                <li><code>documentType</code> (optional) — hint for extraction model</li>\n              </ul>\n              <div class=\"mt-2\"><em>Success (202)</em>:</div>\n              <pre class=\"bg-slate-50 p-2 rounded text-xs text-slate-700\">&#123; \"jobId\": \"job_98765\", \"status\": \"queued\" &#125;</pre>\n              <div class=\"mt-2\"><em>Common error codes</em>:</div>\n              <ul class=\"list-disc ml-5 text-xs text-slate-600\">\n                <li>400 Bad Request — missing required fields</li>\n                <li>401 Unauthorized — invalid or missing API key</li>\n                <li>413 Payload Too Large — file exceeds configured limit</li>\n                <li>415 Unsupported Media Type — file type not accepted</li>\n                <li>429 Too Many Requests — rate limit exceeded</li>\n                <li>500 Internal Server Error — processing failed on server</li>\n              </ul>\n            </div>\n          </div>\n        </aside>\n      </div>\n    </section>\n  `\n})], ApiDocumentationComponent);\nexport { ApiDocumentationComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}