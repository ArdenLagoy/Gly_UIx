{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Ritz/Documents/GitHub/AP-UI/angular-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ElementRef } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n// Import PDF.js\nimport * as pdfjsLib from 'pdfjs-dist';\nimport * as pdfjsWorker from 'pdfjs-dist/build/pdf.worker.mjs';\nimport * as i0 from \"@angular/core\";\nconst _c0 = [\"pdfCanvas\"];\n// Configure the worker\npdfjsLib.GlobalWorkerOptions.workerSrc = URL.createObjectURL(new Blob([pdfjsWorker.WorkerMessageHandler.toString()]));\nexport let ExtractionOverviewComponent = /*#__PURE__*/(() => {\n  var _staticBlock;\n  class ExtractionOverviewComponent {\n    ngAfterViewInit() {\n      // Placeholder if you want to auto-load a default PDF later\n    }\n    onFileSelected(event) {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        const input = event.target;\n        const file = input.files?.[0];\n        if (!file) return;\n        const arrayBuffer = yield file.arrayBuffer();\n        const pdf = yield pdfjsLib.getDocument({\n          data: arrayBuffer\n        }).promise;\n        const page = yield pdf.getPage(1);\n        const viewport = page.getViewport({\n          scale: 1.5\n        });\n        const canvas = _this.pdfCanvas.nativeElement;\n        const context = canvas.getContext('2d');\n        canvas.height = viewport.height;\n        canvas.width = viewport.width;\n        yield page.render({\n          canvasContext: context,\n          viewport\n        }).promise;\n      })();\n    }\n    static #_ = _staticBlock = () => (this.ɵfac = function ExtractionOverviewComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ExtractionOverviewComponent)();\n    }, this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ExtractionOverviewComponent,\n      selectors: [[\"extraction-overview\"]],\n      viewQuery: function ExtractionOverviewComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.pdfCanvas = _t.first);\n        }\n      },\n      decls: 8,\n      vars: 0,\n      consts: [[\"pdfCanvas\", \"\"], [\"id\", \"extraction-overview\", \"aria-labelledby\", \"extractov-title\", 1, \"view\", \"p-4\"], [1, \"flex\", \"items-center\", \"justify-between\", \"mb-4\"], [\"id\", \"extractov-title\", 1, \"text-2xl\", \"font-bold\"], [\"type\", \"file\", \"accept\", \"application/pdf\", 1, \"mb-4\", 3, \"change\"], [1, \"border\", \"rounded-lg\", \"p-2\"]],\n      template: function ExtractionOverviewComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵdomElementStart(0, \"section\", 1)(1, \"div\", 2)(2, \"h1\", 3);\n          i0.ɵɵtext(3, \"Extraction Overview\");\n          i0.ɵɵdomElementEnd()();\n          i0.ɵɵdomElementStart(4, \"input\", 4);\n          i0.ɵɵdomListener(\"change\", function ExtractionOverviewComponent_Template_input_change_4_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.onFileSelected($event));\n          });\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElementStart(5, \"div\", 5);\n          i0.ɵɵdomElement(6, \"canvas\", null, 0);\n          i0.ɵɵdomElementEnd()();\n        }\n      },\n      dependencies: [CommonModule],\n      encapsulation: 2\n    }));\n  }\n  _staticBlock();\n  return ExtractionOverviewComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}