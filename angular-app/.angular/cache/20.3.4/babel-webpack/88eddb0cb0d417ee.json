{"ast":null,"code":"var __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nlet ApiDocumentationComponent = class ApiDocumentationComponent {\n  constructor() {\n    this.pages = ['Overview', 'Authentication', 'Headers', 'Rate Limits', 'Endpoints', 'Examples', 'Errors'];\n    this.currentPage = 0;\n    this.sampleEditorContent = `GET /api/v1/projects?page=1&limit=25\nAuthorization: Bearer <API_KEY>\n\nResponse 200:\n{\n  \"projects\": [\n    {\"id\":\"PX-001\",\"name\":\"Invoice DU\"},\n    {\"id\":\"PX-002\",\"name\":\"PO DU\"}\n  ],\n  \"total\": 2\n}\n`;\n  }\n  get previewLines() {\n    return Array.from({\n      length: this.sampleEditorContent.split('\\n').length\n    }, (_, i) => i + 1);\n  }\n  pageNumberClass(i) {\n    const base = 'px-3 py-1 rounded';\n    return this.currentPage === i ? base + ' bg-indigo-600 text-white' : base + ' bg-slate-100 text-slate-700 hover:bg-slate-200';\n  }\n  pageIndicator() {\n    return `Showing ${this.pages[this.currentPage]} — Page ${this.currentPage + 1} of ${this.pages.length}`;\n  }\n  goToPage(i) {\n    if (i < 0 || i >= this.pages.length) return;\n    this.currentPage = i;\n    // scroll to top of the docs column if needed\n    setTimeout(() => {\n      const el = document.getElementById('api-doc-title');\n      if (el) el.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start'\n      });\n    }, 50);\n  }\n  prevPage() {\n    if (this.currentPage > 0) this.currentPage--;\n  }\n  nextPage() {\n    if (this.currentPage < this.pages.length - 1) this.currentPage++;\n  }\n};\nApiDocumentationComponent = __decorate([Component({\n  selector: 'api-documentation',\n  standalone: true,\n  imports: [CommonModule],\n  host: {\n    'id': 'api-documentation',\n    'class': 'view'\n  },\n  template: `\n    <section aria-labelledby=\"api-doc-title\">\n      <div class=\"flex items-center justify-between mb-4\">\n        <h1 id=\"api-doc-title\" class=\"text-2xl font-bold\">API Documentation</h1>\n      </div>\n\n      <!-- Two-column layout: left = docs, right = sample preview -->\n      <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        <!-- Left: detailed docs (paginated) -->\n        <div class=\"md:col-span-2 rounded-2xl bg-white p-6\">\n          <!-- Page navigation -->\n          <div class=\"flex items-center gap-2 mb-4 flex-wrap\">\n            <button *ngFor=\"let t of pages; let i = index\" (click)=\"goToPage(i)\" class=\"px-3 py-1 rounded-full text-sm\"\n              [class.bg-indigo-600]=\"currentPage===i\" [class.text-white]=\"currentPage===i\"\n              [class.bg-slate-100]=\"currentPage!==i\" [class.text-slate-700]=\"currentPage!==i\" [textContent]=\"t\"></button>\n          </div>\n\n          <!-- Page content -->\n          <div class=\"prose max-w-none text-sm text-slate-700\">\n            <!-- Overview -->\n            <div *ngIf=\"currentPage === 0\">\n              <h2 class=\"text-lg font-semibold mb-2\">Overview</h2>\n              <p class=\"text-sm text-slate-600 mb-4\">This page contains sample API documentation for the Glyphx Data Uploader & Extraction API. It describes authentication, common headers, endpoints, request/response shapes, error codes, and operational guidelines.</p>\n              <p class=\"text-sm text-slate-600\">The API is designed for high-throughput document ingestion and supports bulk uploads, status polling, and callback webhooks. For production integrations, we recommend using client libraries which implement retry/backoff and idempotency.</p>\n            </div>\n\n            <!-- Authentication -->\n            <div *ngIf=\"currentPage === 1\">\n              <h2 class=\"text-lg font-semibold mb-2\">Authentication</h2>\n              <p class=\"text-sm text-slate-600\">All requests must include an API key in the <code>Authorization</code> header: <code>Authorization: Bearer &lt;API_KEY&gt;</code></p>\n              <p class=\"text-sm text-slate-600\">API keys should be treated as secrets and rotated regularly. For production use, scopes and per-user tokens are recommended.</p>\n              <p class=\"text-sm text-slate-600 mt-2\">Best practices: store keys in a secure vault, avoid embedding keys in client-side code, and rotate keys every 90 days. Use read-only keys for monitoring tools where possible.</p>\n            </div>\n\n            <!-- Common Headers -->\n            <div *ngIf=\"currentPage === 2\">\n              <h2 class=\"text-lg font-semibold mb-2\">Common Headers</h2>\n              <ul class=\"list-disc ml-5 text-sm text-slate-700\">\n                <li class=\"mb-1\"><code>Authorization: Bearer &lt;API_KEY&gt;</code></li>\n                <li class=\"mb-1\"><code>Accept: application/json</code></li>\n                <li class=\"mb-1\"><code>Content-Type: multipart/form-data</code> (for file uploads)</li>\n                <li class=\"mb-1\"><code>X-Request-ID</code> (optional) — client-generated id for tracing.</li>\n              </ul>\n              <p class=\"text-xs text-slate-500 mt-2\">Note: For non-file endpoints, prefer <code>application/json</code>. When uploading large batches, include <code>X-Request-ID</code> to help support correlate requests.</p>\n            </div>\n\n            <!-- Rate Limits -->\n            <div *ngIf=\"currentPage === 3\">\n              <h2 class=\"text-lg font-semibold mb-2\">Rate Limits</h2>\n              <p class=\"text-sm text-slate-600\">Requests are limited to <strong>60 requests per minute</strong> per API key. If exceeded, a <code>429</code> status is returned with a <code>Retry-After</code> header indicating when to retry.</p>\n              <p class=\"text-sm text-slate-600 mt-2\">Burst behavior: the rate limiter allows short bursts up to 120 requests. Please implement exponential backoff when receiving 429 responses. Background workers should queue and retry with jitter.</p>\n            </div>\n\n            <!-- Endpoints -->\n            <div *ngIf=\"currentPage === 4\">\n              <h2 class=\"text-lg font-semibold mb-2\">Endpoints</h2>\n              <div class=\"space-y-3 text-sm text-slate-700\">\n                <div>\n                  <strong>POST /api/v1/upload</strong>\n                  <div class=\"text-xs text-slate-500 mt-1\">Description: Upload one or more documents for processing.</div>\n                  <div class=\"text-xs text-slate-500\">Body: multipart/form-data with files and optional metadata fields (<code>project</code>, <code>documentType</code>, <code>externalId</code>).</div>\n                  <div class=\"text-xs text-slate-500 mt-1\">Notes: Supports parallel file fields (file[0], file[1]) and a <code>callbackUrl</code> form field for webhook notifications.</div>\n                </div>\n                <div>\n                  <strong>GET /api/v1/projects</strong>\n                  <div class=\"text-xs text-slate-500 mt-1\">Description: Returns a list of projects, their ids, owners, and basic configuration.</div>\n                  <div class=\"text-xs text-slate-500 mt-1\">Pagination: supports <code>page</code> and <code>limit</code> query params. Default limit is 25.</div>\n                </div>\n                <div>\n                  <strong>GET /api/v1/jobs/&#123;jobId&#125;</strong>\n                  <div class=\"text-xs text-slate-500 mt-1\">Description: Get processing status and results for a job. Replace &#123;jobId&#125; with the job identifier returned by the upload call.</div>\n                  <div class=\"text-xs text-slate-500 mt-1\">The response contains per-document extraction results and field-level confidence scores (0.0-1.0).</div>\n                </div>\n                <div>\n                  <strong>POST /api/v1/webhooks/subscribe</strong>\n                  <div class=\"text-xs text-slate-500 mt-1\">Description: Register a callback URL for job state changes. Body: JSON &#123;\"url\":\"https://...\",\"events\":[\"job.succeeded\",\"job.failed\"]&#125;.</div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Examples -->\n            <div *ngIf=\"currentPage === 5\">\n              <h2 class=\"text-lg font-semibold mb-2\">Request / Response Examples</h2>\n              <h4 class=\"font-medium mt-2\">Sample upload request (curl)</h4>\n              <pre ngNonBindable class=\"bg-slate-50 p-3 rounded text-sm text-slate-700\">curl -X POST \"https://api.example.com/api/v1/upload\" \\\n  -H \"Authorization: Bearer &lt;API_KEY&gt;\" \\\n  -F \"file=@invoice.pdf\" \\\n  -F \"project=invoice-du\" \\\n  -F \"callbackUrl=https://hooks.example.com/glyphx\"</pre>\n\n              <h4 class=\"font-medium mt-3\">Sample response</h4>\n              <pre ngNonBindable class=\"bg-slate-50 p-3 rounded text-sm text-slate-700\">&#123;\n  \"jobId\": \"job_123456\",\n  \"status\": \"queued\"\n&#125;</pre>\n\n              <h4 class=\"font-medium mt-3\">GET /api/v1/projects — Response Example</h4>\n              <pre ngNonBindable class=\"bg-slate-50 p-3 rounded text-sm text-slate-700\">&#123;\n  \"data\": [\n    &#123;\"id\": \"prj_abc\", \"name\": \"Invoice DU\", \"owner\": \"ops@acme.io\", \"createdAt\": \"2024-08-12T10:12:00Z\"&#125;,\n    &#123;\"id\": \"prj_xyz\", \"name\": \"PO DU\", \"owner\": \"ops@acme.io\", \"createdAt\": \"2024-09-03T14:01:00Z\"&#125;\n  ],\n  \"total\": 2,\n  \"page\": 1,\n  \"limit\": 25\n}&#125;</pre>\n\n              <h4 class=\"font-medium mt-3\">GET /api/v1/jobs/&#123;jobId&#125; — Response Example</h4>\n              <pre ngNonBindable class=\"bg-slate-50 p-3 rounded text-sm text-slate-700\">&#123;\n  \"jobId\": \"job_123456\",\n  \"status\": \"succeeded\",\n  \"results\": &#123;\n    \"documentType\": \"invoice\",\n    \"confidence\": 0.92,\n    \"fields\": &#123;\n      \"invoiceNumber\": &#123;\"value\":\"INV-00123\",\"confidence\":0.99&#125;,\n      \"invoiceDate\": &#123;\"value\":\"2025-09-30\",\"confidence\":0.97&#125;,\n      \"total\": &#123;\"value\":1234.56,\"confidence\":0.94&#125;,\n      \"currency\": &#123;\"value\":\"USD\",\"confidence\":0.99&#125;\n    &#125;\n  &#125;\n}&#125;</pre>\n            </div>\n\n            <!-- Error Codes -->\n            <div *ngIf=\"currentPage === 6\">\n              <h2 class=\"text-lg font-semibold mb-2\">Error Codes</h2>\n              <ul class=\"list-disc ml-5 text-sm text-slate-700\">\n                <li><code>400 invalid_request</code> — Malformed body or missing fields.</li>\n                <li><code>401 unauthorized</code> — Missing/invalid API key.</li>\n                <li><code>404 not_found</code> — Resource not found.</li>\n                <li><code>409 conflict</code> — Duplicate externalId.</li>\n                <li><code>413 payload_too_large</code> — Upload exceeds limit.</li>\n                <li><code>429 rate_limited</code> — Too many requests.</li>\n                <li><code>500 server_error</code> — Unexpected error.</li>\n              </ul>\n              <p class=\"text-xs text-slate-500 mt-3\">Tip: include <code>X-Request-ID</code> with uploads to make error investigation easier; provide the header value when opening a support ticket.</p>\n            </div>\n          </div>\n\n          <!-- Pagination controls -->\n          <div class=\"mt-6\">\n            <div class=\"flex flex-col md:flex-row md:items-center md:justify-between gap-3\">\n              <div class=\"flex items-center gap-2 flex-wrap\">\n                <button class=\"px-3 py-1 rounded border bg-white hover:bg-slate-50\" (click)=\"prevPage()\" [disabled]=\"currentPage===0\">Prev</button>\n                <!-- numbered page buttons -->\n                <div class=\"inline-flex items-center gap-2\">\n                  <button *ngFor=\"let p of pages; let i = index\" (click)=\"goToPage(i)\" [class]=\"pageNumberClass(i)\" [textContent]=\"i + 1\"></button>\n                </div>\n                <button class=\"px-3 py-1 rounded border bg-white hover:bg-slate-50\" (click)=\"nextPage()\" [disabled]=\"currentPage === pages.length-1\">Next</button>\n              </div>\n\n              <div class=\"text-sm text-slate-500\" [textContent]=\"pageIndicator()\"></div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Right: sample preview (faux editor with line numbers) -->\n        <aside class=\"rounded-2xl bg-white p-4 border border-slate-100\">\n          <h3 class=\"text-md font-semibold mb-2\">Sample Preview</h3>\n          <div class=\"flex border rounded bg-slate-50 overflow-hidden\">\n            <!-- Line numbers -->\n            <div class=\"bg-slate-100 text-slate-500 text-xs p-3 font-mono\" style=\"min-width:48px;\">\n              <div *ngFor=\"let l of previewLines\" [textContent]=\"l\"></div>\n            </div>\n            <!-- Editor content -->\n            <div class=\"p-3 text-xs text-slate-800 font-mono flex-1 overflow-auto\" style=\"max-height:320px;\">\n              <div *ngFor=\"let line of sampleEditorContent.split('\\n')\" [textContent]=\"line\"></div>\n            </div>\n          </div>\n        </aside>\n      </div>\n    </section>\n  `\n})], ApiDocumentationComponent);\nexport { ApiDocumentationComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}